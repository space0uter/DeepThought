"use strict";let sending=!1;function initRestore(){const e=document.getElementById("email");document.querySelector(".restore").addEventListener("click",function(){if(sending)return;const n=e.value;n.length<5||n.length>50?modal.error("Неверный размер E-mail"):n.match(/^[A-z|0-9|_|.]+?@[A-z]+?\.[A-z]+?$/)?(sending=!0,modal.load("Отправляется письмо"),xhr.request({path:"/services/restore",method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify({email:n})},function(e,n){if(e){let e=document.createElement("a");e.href="/login",e.classList.add("action-btn"),e.innerText="Авторизация",e.style.background=modal.infoColor,modal.customActions(e),modal.head.style.background=modal.loadColor,modal.head.innerText="Успешно",modal.content.innerHTML="Письмо было отправлено на ваш email",modal.show()}else if(n)return void modal.error("Не удалось отправить письмо, попробуйте позже");sending=!1})):modal.error("Неверный формат E-mail")})}initRestore();