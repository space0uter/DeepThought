"use strict";let params=window.get_parameters();function initCategories(){for(let t=0;t<arguments.length;t++)e(arguments[t]);function e(e){const t=document.getElementById(e),n=t.getElementsByClassName("category-select");for(let e=0;e<n.length;e++){let l=n[e];l.getAttribute("content")===params[l.getAttribute("datatype")]&&(l.innerHTML='<svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#4CAF50" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path></svg>'+l.innerHTML,t.getElementsByTagName("input")[0].value=l.getAttribute("content")),l.addEventListener("click",function(e){let t=e.currentTarget,n=t.getAttribute("datatype"),l=t.getAttribute("content");void 0!==params[n]&&params[n]===l?delete_get(n):void 0!==params[n]?change_get(n,l):0===Object.keys(params).length?location.search="?"+n+"="+l:location.search+="&"+n+"="+l})}}let t=void 0,n=document.getElementsByClassName("category-btn");for(let e=0;e<n.length;e++){n[e].addEventListener("click",function(e){const n=e.currentTarget.getAttribute("content");let l=document.getElementById(n);void 0===t&&((t=l).style.display="none"),t!==l?(t.style.display="none",(t=l).style.display="block",t.classList.add("edited")):"none"===l.style.display?(l.style.display="block",t.classList.add("edited")):t.style.display="none"})}document.addEventListener("click",function(e){void 0!==t&&(t.classList.contains("edited")||(t.style.display="none"),t.classList.remove("edited"))},!1)}function initSearch(){let e=params.q;void 0!==e&&(document.getElementsByClassName("search-input")[0].value=e)}const smallHelpers={helpersContainer:document.querySelector(".small-helpers")};function initSmallHelpers(){for(let e in params)addHelper(e)}function addHelper(e){if(""===params[e])return;let t=getNameByTypeAndValue(e,params[e]),n=document.createElement("div");null!==t&&(n.classList.add("small-helper","blue"),n.setAttribute("content",e),n.innerHTML=t,n.addEventListener("click",function(e){delete_get(this.getAttribute("content")),smallHelpers.helpersContainer.removeChild(this)}),smallHelpers.helpersContainer.appendChild(n))}function getNameByTypeAndValue(e,t){let n={type:{rating:"Рейтинг",date:"Новые",moder:"Модераторы"},sort:{1:"По убыванию",0:"По возрастанию"},difficult:{EASY:"Легкие",NORMAL:"Средние",HARD:"Сложные",HELL:"Невозможные"}};return"q"===e?t:void 0===n[e]?null:n[e][t]||null}function removeEmptyFields(e){const t=document.querySelectorAll(".sort-form input");for(let e=0;e<t.length;e++){let n=t[e];void 0!==n.value&&""!==n.value||n.setAttribute("disabled","disabled")}}function initSpecialSorted(){const e=document.getElementById("special_sort");if(null==e)return;const t=document.createElement("div");t.classList.add("small-helper","blue"),t.innerText=e.getAttribute("name"),t.addEventListener("click",function(t){location.href=location.href.replace(e.getAttribute("content")+"/","")}),smallHelpers.helpersContainer.appendChild(t)}initSearch(),initSpecialSorted(),initSmallHelpers();